"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[903],{6877:function(e,n,t){var i=t(3655),r=t(5820),a=t(2791),s=t(2622),l=t(4087),o=t(184);function c(e){var n=e.onClick;return(0,o.jsx)(i.Z.Link,{children:(0,o.jsx)(l.xu,{color:"red",onClick:function(e){return e.stopPropagation()},children:(0,o.jsx)(r.Z,{title:"Are you sure you want to delete this item?",okText:"Yes",cancelText:"No",onConfirm:n,children:(0,o.jsx)(s.Z,{})})})})}n.Z=(0,a.memo)(c)},4478:function(e,n,t){var i=t(9439),r=t(1041),a=t(3099),s=t(9389),l=t(2706),o=t(7309),c=t(9420),d=t(1830),u=t(2791),m=t(2491),h=t(4087),x=t(175),p=t(3052),f=(t(8431),t(184));function Z(e){var n=e.button,t=e.form,u=e.readOnly,Z=void 0!==u&&u,j=(0,m.a)("(min-width: 600px)"),v=(0,i.Z)(j,1)[0],b=(0,p.b)(),g=b.inPatientCollapse,y=b.setInPatientCollapse;return(0,f.jsx)(h.xu,{boxShadow:"xl",p:"2",bg:"pink.100",borderRadius:"15px",children:(0,f.jsxs)(r.Z,{id:"patientForm",form:t,layout:v?"inline":"vertical",children:[(0,f.jsx)(r.Z.Item,{label:"Name",children:(0,f.jsxs)(a.Z.Compact,{children:[(0,f.jsx)(r.Z.Item,{noStyle:!0,name:"patientName",children:(0,f.jsx)(s.Z,{readOnly:Z,placeholder:"Name"})},"patientName"),(0,f.jsx)(r.Z.Item,{name:"patientId",noStyle:!0,children:(0,f.jsx)(l.Z,{readOnly:Z,addonBefore:"\u2116",placeholder:"Patient \u2116"})}),(0,f.jsx)(o.ZP,{type:"ghost",onClick:function(){return y((function(e){return!e}))},icon:g?(0,f.jsx)(c.Z,{}):(0,f.jsx)(d.Z,{})})]})}),(0,f.jsx)(x.U,{in:g,animateOpacity:!0,children:(0,f.jsxs)(r.Z,{form:t,layout:v?"inline":"vertical",children:[(0,f.jsx)(r.Z.Item,{name:"patientSurName",label:"Suriname",children:(0,f.jsx)(s.Z,{readOnly:Z,placeholder:"Suriname"})},"patientSurName"),(0,f.jsx)(r.Z.Item,{name:"phoneNumber",label:"Phone number",children:(0,f.jsx)(s.Z,{readOnly:Z,placeholder:"Phone number"})},"phoneNumber")]})}),n]})})}n.Z=(0,u.memo)(Z)},667:function(e,n,t){var i=t(1413),r=t(4165),a=t(5861),s=t(2791),l=t(4478),o=t(7027),c=t(1041),d=t(3099),u=t(7309),m=t(3052),h=t(1244),x=t(4488),p=t(184),f=function(e,n){e&&"string"!==typeof e?o.ZP.success({content:n+" saved",key:n+"_save",duration:2}):o.ZP.error({content:n+" don't saved",key:n+"_save",duration:2})},Z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.Z)("patientid",{},"get");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),o.ZP.error({content:e.t0,key:"doc_save",duration:2});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("vite",n,"post");case 2:t=e.sent,f(t,"Person Info");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("morby",n,"post");case 2:t=e.sent,f(t,"Disease History");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("visits",n,"post");case 2:t=e.sent,f(t,"Visit");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("analyses",n,"post");case 2:t=e.sent,f(t,"Analyses");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("treatment",n,"post");case 2:t=e.sent,f(t,"Treatment");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,m.b)(),n=e.personInfoForm,t=e.diseaseHistoryForm,s=e.patientForm,l=e.familyMembersList,x=e.treatmentHistoryForm,f=(0,h.o)((function(e){return e.dataSourceDiseaseHistoryTable})),I=(0,h.o)((function(e){return e.savedDrawingCanvas})),w=(0,h.o)((function(e){return e.descriptionsCanvas})),k=(0,h.o)((function(e){return e.dataSourceVisitTable})),C=(0,h.o)((function(e){return e.dataSourceAnalysisTable})),S=(0,h.o)((function(e){return e.dataSourceTreatmentTable})),F=(0,h.o)((function(e){return e.recipeList})),R=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var a,c,d,u,m,h,p,R,O,P;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ZP.loading({content:"Loading...",key:"doc_save"}),!(a=s.getFieldsValue().patientId)){e.next=6;break}c=a,e.next=9;break;case 6:return e.next=8,Z();case 8:c=e.sent;case 9:c&&(Object.keys(n.getFieldsValue()).length&&(d=s.getFieldsValue(),u=d.patientName,m=d.patientSurName,h=d.patientPatronymic,p=d.patientId,R=(0,i.Z)((0,i.Z)({},n.getFieldsValue()),{},{patientName:u,patientSurName:m,patientPatronymic:h,patientId:p}),j(R)),Object.keys(t.getFieldsValue()).length&&(I.deseaseImageDesc=JSON.stringify(w),O=(0,i.Z)((0,i.Z)({},t.getFieldsValue()),{},{patientId:c,familyMembersList:l,deseaseImagesList:I,deseaseHistoryDynamicsList:f}),v(O)),k&&b({patientVisitsList:k,patientId:c}),C&&g({analyzesMediaList:C,patientId:c}),C&&(P=(0,i.Z)((0,i.Z)({},x.getFieldsValue()),{},{patientId:c,treatmentDynamics:S,recipeList:F}),y(P))),console.log("patientForm",s.getFieldsValue()),console.log("personInfoForm",n.getFieldsValue()),console.log("diseaseHistoryForm",t.getFieldsValue()),console.log("dataSourceDiseaseHistoryTable",f),console.log("familyMembersList",l),console.log("savedDrawingCanvas",I),console.log("descriptionsCanvas",w),console.log("dataSourceVisitTable",k),console.log("dataSourceAnalysisTable",C),console.log("treatmentHistoryForm",x.getFieldsValue()),console.log("dataSourceTreatmentTable",S),console.log("recipeList",F);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(c.Z.Item,{noStyle:!0,children:(0,p.jsxs)(d.Z,{children:[(0,p.jsx)(u.ZP,{onClick:R,form:"patientForm",type:"primary",htmlType:"submit",children:"Save"}),(0,p.jsx)(u.ZP,{danger:!0,children:"Clear"})]})})};function w(){var e=(0,m.b)().patientForm;return(0,p.jsx)(l.Z,{form:e,button:(0,p.jsx)(I,{}),readOnly:!0})}n.Z=(0,s.memo)(w)},378:function(e,n,t){var i=t(4087),r=t(7885),a=t(6070),s=t(2791),l=t(2414),o=t(184);function c(e){var n=e.items,t=e.isOpen,s=e.onOpenChange;return(0,o.jsx)(i.xu,{cursor:"pointer",children:(0,o.jsx)(a.Z,{trigger:["click"],menu:{items:n},open:t,onOpenChange:s,children:(0,o.jsx)(r.h,{variant:"ghost",color:"pink.500",size:"sm",isRound:!0,"aria-label":"Search database",icon:(0,o.jsx)(l.Z,{})})})})}n.Z=(0,s.memo)(c)},3416:function(e,n,t){function i(e){return JSON.parse(JSON.stringify(e))}t.d(n,{p:function(){return i}})},3903:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var i=t(9439),r=t(2791),a=t(3433),s=t(3722),l=t(1041),o=t(9389),c=t(9555),d=t(4960),u=t(3099),m=t(2706),h=t(7309),x=t(1244),p=t(184);function f(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,i=e.form,r=(0,x.o)((function(e){return e.dataSourceDiseaseHistoryTable})),f=(0,x.o)((function(e){return e.setDataSourceDiseaseHistoryTable})),Z=function(e){if(n){var s=r.map((function(n){return n.id===e.id?e:n}));f(s)}else{var l=(new Date).getTime();e.id=l,e.key=l,f([].concat((0,a.Z)(r),[e]))}i.resetFields(),t()};return(0,p.jsxs)(s.M,{columns:["1","2"],children:[(0,p.jsxs)(l.Z,{onFinish:Z,id:"diseaseHistoryFormBloke",form:i,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsx)(l.Z.Item,{hidden:!0,name:"id",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(l.Z.Item,{label:"Breast",name:"complaintBreastType",children:(0,p.jsxs)(c.Z,{allowClear:!0,children:[(0,p.jsx)(c.Z.Option,{value:"no",children:"Missing"}),(0,p.jsx)(c.Z.Option,{value:"right",children:"Right"}),(0,p.jsx)(c.Z.Option,{value:"left",children:"Left"}),(0,p.jsx)(c.Z.Option,{value:"both",children:"Both"}),(0,p.jsx)(c.Z.Option,{value:"postmastektR",children:"Post mastectomy right"}),(0,p.jsx)(c.Z.Option,{value:"postmastektL",children:"Post mastectomy left"}),(0,p.jsx)(c.Z.Option,{value:"axilaR",children:"Axilla right"}),(0,p.jsx)(c.Z.Option,{value:"axilaL",children:"Axilla left"}),(0,p.jsx)(c.Z.Option,{value:"anotherBrestR",children:"Extra breast right"}),(0,p.jsx)(c.Z.Option,{value:"anotherBrestL",children:"Extra breast left"}),(0,p.jsx)(c.Z.Option,{value:"anotherBrestBoth",children:"Both extra breasts"})]})}),(0,p.jsx)(l.Z.Item,{label:"Duration of illness",name:"durationOfIllness",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(l.Z.Item,{label:"Complaints",name:"complaintDescription",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})})]}),(0,p.jsxs)(l.Z,{onFinish:Z,id:"diseaseHistoryFormBloke",form:i,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsxs)(l.Z.Item,{label:"ER",children:[(0,p.jsx)(l.Z.Item,{noStyle:!0,name:"ihkEr",children:(0,p.jsx)(d.ZP.Group,{children:(0,p.jsxs)(u.Z,{direction:"horizontal",children:[(0,p.jsx)(d.ZP,{value:1,children:"Positive"}),(0,p.jsx)(d.ZP,{value:2,children:"Negative"})]})})}),(0,p.jsx)(l.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.ihkEr!==n.ihkEr},children:function(e){return 1===(0,e.getFieldValue)("ihkEr")?(0,p.jsx)(l.Z.Item,{noStyle:!0,name:"erN",children:(0,p.jsx)(m.Z,{size:"small"})}):""}})]}),(0,p.jsxs)(l.Z.Item,{label:"PR",children:[(0,p.jsx)(l.Z.Item,{noStyle:!0,name:"ihkPr",children:(0,p.jsx)(d.ZP.Group,{children:(0,p.jsxs)(u.Z,{direction:"horizontal",children:[(0,p.jsx)(d.ZP,{value:1,children:"Positive"}),(0,p.jsx)(d.ZP,{value:2,children:"Negative"})]})})}),(0,p.jsx)(l.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.ihkPr!==n.ihkPr},children:function(e){return 1===(0,e.getFieldValue)("ihkPr")?(0,p.jsx)(l.Z.Item,{noStyle:!0,name:"prN",children:(0,p.jsx)(m.Z,{size:"small"})}):""}})]}),(0,p.jsx)(l.Z.Item,{label:"HER2",name:"her2",children:(0,p.jsx)(m.Z,{min:0,max:3,defaultValue:0})}),(0,p.jsx)(l.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.her2!==n.her2},children:function(e){return 2===(0,e.getFieldValue)("her2")?(0,p.jsx)(l.Z.Item,{label:"FT",name:"her2FT",children:(0,p.jsx)(m.Z,{})}):""}}),(0,p.jsx)(l.Z.Item,{label:"K67",name:"k67",children:(0,p.jsx)(m.Z,{min:0,defaultValue:0})}),(0,p.jsx)(l.Z.Item,{label:"Pathologist",name:"pathologist",children:(0,p.jsx)(c.Z,{allowClear:!0})}),(0,p.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsxs)(u.Z,{children:[(0,p.jsx)(h.ZP,{form:"diseaseHistoryFormBloke",htmlType:"submit",type:"primary",children:n?"Edit":"Add"}),(0,p.jsx)(h.ZP,{onClick:function(){i.resetFields(),t()},danger:!0,children:n?"Close":"Clear"})]})})]})]})}var Z=(0,r.memo)(f),j=t(667),v=t(8792),b=t(8348),g=t(4087),y=t(176),I=t(4464),w=t(7885),k=["Mother","Father","Maternal grandmother","Paternal grandmother","Paternal grandfather","Maternal grandfather","Brother","Sister","Father's brother","Mother's brother","Father's sister","Mother's sister"],C=t(9286),S=t(1820),F=t(3380),R=t(1078),O=t(7693),P=t(1461),T=t(4805),V=t(4653),D=t(3416);var L=function(e){var n=e.isOpen,t=e.onClose,i=e.initialRef,r=e.finalRef,a=e.title,s=e.handleEdit,c=e.isEdit,d=e.handleAdd,u=e.form;return(0,p.jsxs)(S.u_,{isOpen:n,onClose:function(){u.resetFields(),t()},initialFocusRef:i,finalFocusRef:r,children:[(0,p.jsx)(F.Z,{}),(0,p.jsxs)(R.h,{children:[(0,p.jsx)(O.x,{children:a}),(0,p.jsx)(P.o,{}),(0,p.jsx)(T.f,{children:(0,p.jsxs)(l.Z,{form:u,labelWrap:!0,labelAlign:"left",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsx)(l.Z.Item,{hidden:!0,name:"Id",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(l.Z.Item,{hidden:!0,name:"familyMember",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(l.Z.Item,{label:"Trauma",name:"familyMemberInjury",children:(0,p.jsx)(o.Z,{ref:i,allowClear:!0})}),(0,p.jsx)(l.Z.Item,{label:"Deceased of cancer",name:"familyMemberDied",children:(0,p.jsx)(o.Z,{allowClear:!0})}),(0,p.jsx)(l.Z.Item,{label:"Living with cancer",name:"familyMemberCurrentCancer",children:(0,p.jsx)(o.Z,{allowClear:!0})}),(0,p.jsx)(l.Z.Item,{label:"Description",name:"familyMemberDesc",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})})]})}),(0,p.jsx)(V.m,{children:(0,p.jsx)(h.ZP,{type:"primary",block:!0,icon:(0,p.jsx)(C.Z,{}),onClick:function(){try{var e=u.getFieldsValue(),n=(0,D.p)(e);c?s(n):d(n),u.resetFields()}catch(t){console.log("%c error","background: red; color: dark",t)}},children:c?"Edit":"Add"})})]})]})};function N(e){var n=e.setList,t=(0,b.q)(),s=t.isOpen,o=t.onOpen,d=t.onClose,m=r.useRef(null),x=r.useRef(null),f=(0,r.useState)(),Z=(0,i.Z)(f,2),j=Z[0],v=Z[1],g=l.Z.useForm(),y=(0,i.Z)(g,1)[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Z.Item,{labelAlign:"left",label:"Family members",children:(0,p.jsxs)(u.Z.Compact,{style:{width:"100%"},children:[(0,p.jsx)(c.Z,{onSelect:function(e){v(e)},allowClear:!0,ref:x,children:k.map((function(e){return(0,p.jsx)(c.Z.Option,{value:e,children:e},e)}))}),(0,p.jsx)(h.ZP,{onClick:function(){o()},children:(0,p.jsx)(C.Z,{})})]})}),(0,p.jsx)(L,{isOpen:s,onClose:d,initialRef:m,finalRef:x,title:j,handleAdd:function(e){e.familyMember=j;var t=(new Date).getTime();e.Id=t,n((function(n){return[].concat((0,a.Z)(n),[e])})),d()},form:y})]})}var M=(0,r.memo)(N),E=t(3052);function A(){var e=(0,E.b)(),n=e.familyMembersList,t=e.setFamilyMembersList,s=(0,r.useState)(),o=(0,i.Z)(s,2),c=o[0],d=o[1],u=l.Z.useForm(),m=(0,i.Z)(u,1)[0],h=(0,b.q)(),x=h.isOpen,f=h.onOpen,Z=h.onClose,j=r.useRef(null),k=r.useRef(null);return(0,p.jsxs)(l.Z.Item,{noStyle:!0,children:[(0,p.jsx)(v.ZP,{size:"small",header:(0,p.jsx)(M,{setList:t}),bordered:!0,dataSource:n,renderItem:function(e,i){return(0,p.jsx)(g.xu,{onClick:function(){return function(e){m.setFieldsValue(e),d(e),f()}(e)},_hover:{bg:"pink.200"},cursor:"pointer",children:(0,p.jsx)(v.ZP.Item,{children:(0,p.jsxs)(y.k,{w:"100%",children:[(0,p.jsxs)(g.xu,{children:[i+1,". ",e.familyMember]}),(0,p.jsx)(I.L,{}),(0,p.jsx)(w.h,{isRound:!0,variant:"ghost",fontWeight:"bold",size:"xs",children:(0,p.jsx)(g.xu,{onClick:function(i){return function(e,i){e.preventDefault(),e.stopPropagation();var r=n.filter((function(e){return e.Id!==i.Id}));t((0,a.Z)(r))}(i,e)},color:"pink.500",children:"X"})})]})})},e.Id)}}),(0,p.jsx)(L,{isOpen:x,onClose:Z,initialRef:j,finalRef:k,title:null===c||void 0===c?void 0:c.familyMember,isEdit:!0,handleEdit:function(e){var i=n.map((function(n){return n.Id===e.Id?e:n}));Z(),t((0,a.Z)(i))},form:m})]})}var H=(0,r.memo)(A);function B(){var e=(0,E.b)().diseaseHistoryForm;return(0,p.jsxs)(s.M,{columns:["1","2"],gap:"1",children:[(0,p.jsxs)(l.Z,{form:e,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsx)(l.Z.Item,{label:"Allergies",name:"allergyAvailability",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})}),(0,p.jsx)(l.Z.Item,{label:"Receved treatement",name:"medicationTaken",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})}),(0,p.jsx)(l.Z.Item,{label:"Initial diagnosis",name:"preliminaryDiagnosis",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,allowClear:!0,rows:3})}),(0,p.jsx)(l.Z.Item,{label:"Received traumas",name:"receivedTraumas",children:(0,p.jsxs)(d.ZP.Group,{children:[(0,p.jsx)(d.ZP,{value:1,children:"Yes"}),(0,p.jsx)(d.ZP,{value:2,children:"No"})]})}),(0,p.jsx)(l.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.receivedTraumas!==n.receivedTraumas},children:function(e){return 1===(0,e.getFieldValue)("receivedTraumas")?(0,p.jsx)(l.Z.Item,{label:"Description",name:"ownInjuryReason",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3})}):""}}),(0,p.jsx)(l.Z.Item,{label:"Malignant",name:"maliqan",children:(0,p.jsxs)(c.Z,{allowClear:!0,children:[(0,p.jsx)(c.Z.Option,{value:"Right",children:"Right"}),(0,p.jsx)(c.Z.Option,{value:"Left",children:"Left"})]})}),(0,p.jsx)(l.Z.Item,{label:"Benign",name:"beniqen",children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(c.Z.Option,{value:"Right",children:"Right"}),(0,p.jsx)(c.Z.Option,{value:"Left",children:"Left"})]})}),(0,p.jsx)(l.Z.Item,{label:"Malignant?",name:"maliqanQuestion",children:(0,p.jsxs)(c.Z,{allowClear:!0,children:[(0,p.jsx)(c.Z.Option,{value:"Right",children:"Right"}),(0,p.jsx)(c.Z.Option,{value:"Left",children:"Left"})]})})]}),(0,p.jsx)(l.Z,{form:e,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:(0,p.jsx)(H,{})})]})}var z=(0,r.memo)(B),W=t(8594),K=t(568),_=t(4386);function q(e){var n=e.image,t=e.imageName,a=(0,x.o)((function(e){return e.descriptionsCanvas})),s=(0,x.o)((function(e){return e.setDescriptionsCanvas})),d=(0,x.o)((function(e){return e.savedDrawingCanvas})),m=(0,x.o)((function(e){return e.setSavedDrawingCanvas})),f=(0,r.useRef)(null),Z=l.Z.useForm(),j=(0,i.Z)(Z,1)[0],v=(0,r.useState)("green"),b=(0,i.Z)(v,2),y=b[0],I=b[1],w=(0,r.useState)(!0),k=(0,i.Z)(w,2),C=k[0],S=k[1],F=(0,r.useState)(20),R=(0,i.Z)(F,2),O=R[0],P=R[1],T=(0,r.useState)(!0),V=(0,i.Z)(T,2),D=V[0],L=V[1],N=(0,r.useState)(),M=(0,i.Z)(N,2),E=M[0],A=M[1],H=(0,r.useState)(),B=(0,i.Z)(H,2),z=B[0],W=B[1];(0,r.useEffect)((function(){var e=K(),n=t+y+e;Object.hasOwn(a,n)?j.setFieldsValue({description:a[n]}):j.setFieldsValue({description:""})}),[y]);var K=function(){var e,n=0,t=f.current.getSaveData();return null!==(e=t=t?JSON.parse(t):"")&&void 0!==e&&e.lines[0]&&t.lines.forEach((function(e){e.brushColor===y&&(n+=1)})),n||1};return console.log("savedDrawingCanvas",d),(0,p.jsxs)(g.xu,{bg:"pink.100",p:"1",borderRadius:"10px",children:[(0,p.jsxs)(l.Z,{form:j,onFieldsChange:function(e){var n=(0,i.Z)(e,1)[0];n.name,n.value},labelAlign:"left",style:{width:"100%"},children:[(0,p.jsxs)(u.Z.Compact,{width:"100%",style:{width:"100%",alignItems:"center"},children:[(0,p.jsx)(l.Z.Item,{style:{width:"100%"},children:(0,p.jsx)(l.Z.Item,{noStyle:!0,name:"colorCanvas",children:(0,p.jsxs)(c.Z,{onSelect:function(e){return I(e)},defaultValue:"green",suffixIcon:(0,p.jsx)(g.Cd,{mr:"4",size:"20px",bg:y}),style:{width:"100%"},children:[(0,p.jsx)(c.Z.Option,{value:"green",children:"Benign tumor"}),(0,p.jsx)(c.Z.Option,{value:"red",children:"Maligan tumor"}),(0,p.jsx)(c.Z.Option,{value:"black",children:"Maligan ?"}),(0,p.jsx)(c.Z.Option,{value:"blue",children:"My operation"}),(0,p.jsx)(c.Z.Option,{value:"#AA00FF",children:"Operated not by me"})]})})}),(0,p.jsx)(l.Z.Item,{children:(0,p.jsx)(h.ZP,{onClick:function(){P(20),S(!1)},children:"Edit"})}),(0,p.jsx)(l.Z.Item,{children:(0,p.jsx)(h.ZP,{disabled:D,type:"primary",onClick:function(){P(0),L(!0),S(!0);var e=f.current.getSaveData();d[t]=e,m(d)},children:"Save"})}),(0,p.jsx)(l.Z.Item,{children:(0,p.jsx)(h.ZP,{onClick:function(){f.current.undo()},children:"Clear"})})]}),(0,p.jsx)(l.Z.Item,{label:"Description",name:"description",children:(0,p.jsx)(o.Z.TextArea,{showCount:!0,maxLength:3e3,onChange:function(e){var n=K();a[t+y+n]=e.target.value,s(a)}})})]}),(0,p.jsx)(g.xu,{w:"100%",h:"100%",position:"relative",paddingBottom:"100%",onMouseMove:function(e){A(e.nativeEvent.offsetX),W(e.nativeEvent.offsetY)},onClick:function(){if(C){var e=f.current.getSaveData(),n=JSON.parse(e);i=n.lines,r=E,s=z,i.forEach((function(e,n){var l=!1;e.points.forEach((function(o){var c=Math.abs(r-Math.round(o.x))<15;if(!0===Math.abs(s-Math.round(o.y))<15&&!0===c&&!l){l=!0;var d=0,u=[];i.forEach((function(n,t){n.brushColor===e.brushColor&&(d+=1,u.push({num:d,index:t}))}));var m=u.find((function(e){return e.index===n})),h=a[t+e.brushColor+m.num];j.setFieldsValue({description:h}),I(e.brushColor)}}))}))}var i,r,s},children:(0,p.jsx)(_.Z,{style:{position:"absolute",width:"100%",height:"100%"},imgSrc:n,className:"canvas-draw",brushColor:y,ref:f,onChange:function(){j.setFieldsValue({description:""}),L(!1)},disabled:C,brushRadius:O,saveData:d[t]||""})})]})}var J=(0,r.memo)(q),U="/images/deseaseImage1Data.png";function G(){return(0,p.jsxs)(W.r,{templateRows:"repeat(2, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,borderRadius:"10px",children:[(0,p.jsx)(K.P,{borderRadius:"10px",rowSpan:2,colSpan:[5,5,5,3],children:(0,p.jsx)(J,{imageName:"image1",image:U})}),(0,p.jsx)(K.P,{borderRadius:"10px",colSpan:[5,5,5,2],children:(0,p.jsx)(J,{imageName:"image2",image:U})}),(0,p.jsx)(K.P,{borderRadius:"10px",colSpan:[5,5,5,2],children:(0,p.jsx)(J,{imageName:"image3",image:U})})]})}var Y=(0,r.memo)(G),X=t(2491),Q=t(131),$=t(1326),ee=t(6877);function ne(e){var n=e.handleDelete;return(0,p.jsx)(ee.Z,{onClick:n})}var te=(0,r.memo)(ne),ie=t(2014),re=t(378);function ae(e){var n=e.columns,t=(0,r.useState)(!1),s=(0,i.Z)(t,2),l=s[0],o=s[1],c=(0,x.m)((function(e){return e.diseaseHistoryTableSetting})),d=(0,x.m)((function(e){return e.setDiseaseHistoryTableSetting})),u=function(e){var n=e.target.id,t=e.target.checked,i=(0,D.p)(c);i.forEach((function(e){e.dataIndex===n&&(e.isVisible=t)})),d((0,a.Z)(i))};(0,r.useEffect)((function(){var e=n.map((function(e){return{key:e.key,dataIndex:e.dataIndex,isVisible:e.isVisible,title:e.title}}));d(e)}),[]);var m=(0,r.useMemo)((function(){return c?null===c||void 0===c?void 0:c.map((function(e){return{label:(0,p.jsx)(ie.Z,{id:null===e||void 0===e?void 0:e.dataIndex,onChange:u,defaultChecked:null===e||void 0===e?void 0:e.isVisible,children:e.title})}})):[]}),[c]);return(0,p.jsx)(re.Z,{items:m,isOpen:l,onOpenChange:function(e){o(e)}})}var se=(0,r.memo)(ae);function le(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,a=e.form,s=(0,X.a)("(min-width: 400px)"),l=(0,i.Z)(s,1)[0],o=(0,x.m)((function(e){return e.diseaseHistoryTableSetting})),c=(0,x.o)((function(e){return e.dataSourceDiseaseHistoryTable})),d=(0,x.o)((function(e){return e.setDataSourceDiseaseHistoryTable})),u=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==o&&void 0!==o&&o.find((function(n){return n.dataIndex===e}))?o.find((function(n){return n.dataIndex===e})).isVisible:n},m=(0,r.useMemo)((function(){return[{title:"Breast",dataIndex:"complaintBreastType",key:"complaintBreastType",isVisible:u("complaintBreastType"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"Duration of illness",dataIndex:"durationOfIllness",key:"durationOfIllness",isVisible:u("durationOfIllness"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"Complaints",dataIndex:"complaintDescription",key:"complaintDescription",isVisible:u("complaintDescription"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"ER",dataIndex:"ihkEr",key:"ihkEr",isVisible:u("ihkEr"),ellipsis:!0,render:function(e){return 1===e?"Pozitiv":2===e?"Negativ":void 0}},{title:"ER N",dataIndex:"erN",key:"erN",isVisible:u("erN"),ellipsis:!0,width:!l&&150},{title:"PR",dataIndex:"ihkPr",key:"ihkPr",isVisible:u("ihkPr"),ellipsis:!0,width:!l&&150,render:function(e){return 1===e?"Pozitiv":2===e?"Negativ":void 0}},{title:"PR N",dataIndex:"prN",key:"prN",isVisible:u("prN"),ellipsis:!0,width:!l&&150},{title:"HER2",dataIndex:"her2",key:"her2",isVisible:u("her2"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"HER2 FT",dataIndex:"her2FT",key:"her2FT",isVisible:u("her2FT"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"K67",dataIndex:"k67",key:"k67",isVisible:u("k67"),ellipsis:!0,width:!l&&150,render:function(e){return(0,p.jsx)(Q.Z,{placement:"topLeft",title:e,children:e})}},{title:"Delete",dataIndex:"delete",width:50,key:"delete",isVisible:u("delete"),ellipsis:!0,align:"center",render:function(e,n,t){return(0,p.jsx)(te,{handleDelete:function(){var e=c.filter((function(e){return e.id!==n.id}));d(e)}})}}]}),[l,o,c]);return(0,p.jsxs)(g.xu,{display:"flex",flexDirection:"column",children:[(0,p.jsx)(g.xu,{alignSelf:"flex-end",children:(0,p.jsx)(se,{columns:m})}),(0,p.jsx)($.Z,{size:"small",bordered:!0,scroll:{x:window.innerHeight},pagination:!1,columns:m.filter((function(e){return!0===e.isVisible})),dataSource:c,rowClassName:function(e,t){return n===t+1?"ant-table-row-selected":""},onRow:function(e,n){return{onClick:function(i){!function(e,n){a.setFieldsValue(e)}(e),t(n+1)}}}})]})}var oe=(0,r.memo)(le);function ce(){var e=(0,r.useState)(),n=(0,i.Z)(e,2),t=n[0],a=n[1],s=l.Z.useForm(),o=(0,i.Z)(s,1)[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Z,{}),(0,p.jsxs)(g.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:[(0,p.jsx)(g.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",bg:t?"blue.50":"",children:(0,p.jsx)(Z,{form:o,selectedRowKey:t,setSelectedRowKey:a})}),(0,p.jsx)(g.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",children:(0,p.jsx)(oe,{form:o,selectedRowKey:t,setSelectedRowKey:a})})]}),(0,p.jsx)(g.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:(0,p.jsx)(z,{})}),(0,p.jsx)(g.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:(0,p.jsx)(Y,{})})]})}var de=(0,r.memo)(ce)}}]);
//# sourceMappingURL=903.11deffd7.chunk.js.map