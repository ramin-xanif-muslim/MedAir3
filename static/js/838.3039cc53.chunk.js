"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[838],{6877:function(e,n,t){var r=t(3655),a=t(5820),i=t(2791),s=t(2622),l=t(4087),o=t(184);function c(e){var n=e.onClick;return(0,o.jsx)(r.Z.Link,{children:(0,o.jsx)(l.xu,{color:"red",onClick:function(e){return e.stopPropagation()},children:(0,o.jsx)(a.Z,{title:"Are you sure you want to delete this item?",okText:"Yes",cancelText:"No",onConfirm:n,children:(0,o.jsx)(s.Z,{})})})})}n.Z=(0,i.memo)(c)},4478:function(e,n,t){var r=t(9439),a=t(1041),i=t(3099),s=t(9389),l=t(2706),o=t(7309),c=t(9420),u=t(1830),d=t(2791),p=t(2491),m=t(4087),f=t(175),y=t(3052),h=(t(8431),t(184));function x(e){var n=e.button,t=e.form,d=e.readOnly,x=void 0!==d&&d,Z=(0,p.a)("(min-width: 600px)"),j=(0,r.Z)(Z,1)[0],b=(0,y.b)(),v=b.inPatientCollapse,g=b.setInPatientCollapse;return(0,h.jsx)(m.xu,{boxShadow:"xl",p:"2",bg:"pink.100",borderRadius:"15px",children:(0,h.jsxs)(a.Z,{id:"patientForm",form:t,layout:j?"inline":"vertical",children:[(0,h.jsx)(a.Z.Item,{label:"Name",children:(0,h.jsxs)(i.Z.Compact,{children:[(0,h.jsx)(a.Z.Item,{noStyle:!0,name:"patientName",children:(0,h.jsx)(s.Z,{readOnly:x,placeholder:"Name"})},"patientName"),(0,h.jsx)(a.Z.Item,{name:"patientId",noStyle:!0,children:(0,h.jsx)(l.Z,{readOnly:x,addonBefore:"\u2116",placeholder:"Patient \u2116"})}),(0,h.jsx)(o.ZP,{type:"ghost",onClick:function(){return g((function(e){return!e}))},icon:v?(0,h.jsx)(c.Z,{}):(0,h.jsx)(u.Z,{})})]})}),(0,h.jsx)(f.U,{in:v,animateOpacity:!0,children:(0,h.jsxs)(a.Z,{form:t,layout:j?"inline":"vertical",children:[(0,h.jsx)(a.Z.Item,{name:"patientSurName",label:"Suriname",children:(0,h.jsx)(s.Z,{readOnly:x,placeholder:"Suriname"})},"patientSurName"),(0,h.jsx)(a.Z.Item,{name:"phoneNumber",label:"Phone number",children:(0,h.jsx)(s.Z,{readOnly:x,placeholder:"Phone number"})},"phoneNumber")]})}),n]})})}n.Z=(0,d.memo)(x)},667:function(e,n,t){var r=t(1413),a=t(4165),i=t(5861),s=t(2791),l=t(4478),o=t(7027),c=t(1041),u=t(3099),d=t(7309),p=t(3052),m=t(1244),f=t(4488),y=t(184),h=function(e,n){e&&"string"!==typeof e?o.ZP.success({content:n+" saved",key:n+"_save",duration:2}):o.ZP.error({content:n+" don't saved",key:n+"_save",duration:2})},x=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Z)("patientid",{},"get");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),o.ZP.error({content:e.t0,key:"doc_save",duration:2});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)("vite",n,"post");case 2:t=e.sent,h(t,"Person Info");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)("morby",n,"post");case 2:t=e.sent,h(t,"Disease History");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)("visits",n,"post");case 2:t=e.sent,h(t,"Visit");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)("analyses",n,"post");case 2:t=e.sent,h(t,"Analyses");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)("treatment",n,"post");case 2:t=e.sent,h(t,"Treatment");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=(0,p.b)(),n=e.personInfoForm,t=e.diseaseHistoryForm,s=e.patientForm,l=e.familyMembersList,f=e.treatmentHistoryForm,h=(0,m.o)((function(e){return e.dataSourceDiseaseHistoryTable})),k=(0,m.o)((function(e){return e.savedDrawingCanvas})),w=(0,m.o)((function(e){return e.descriptionsCanvas})),S=(0,m.o)((function(e){return e.dataSourceVisitTable})),T=(0,m.o)((function(e){return e.dataSourceAnalysisTable})),C=(0,m.o)((function(e){return e.dataSourceTreatmentTable})),I=(0,m.o)((function(e){return e.recipeList})),F=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var i,c,u,d,p,m,y,F,z,V;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ZP.loading({content:"Loading...",key:"doc_save"}),!(i=s.getFieldsValue().patientId)){e.next=6;break}c=i,e.next=9;break;case 6:return e.next=8,x();case 8:c=e.sent;case 9:c&&(Object.keys(n.getFieldsValue()).length&&(u=s.getFieldsValue(),d=u.patientName,p=u.patientSurName,m=u.patientPatronymic,y=u.patientId,F=(0,r.Z)((0,r.Z)({},n.getFieldsValue()),{},{patientName:d,patientSurName:p,patientPatronymic:m,patientId:y}),Z(F)),Object.keys(t.getFieldsValue()).length&&(k.deseaseImageDesc=JSON.stringify(w),z=(0,r.Z)((0,r.Z)({},t.getFieldsValue()),{},{patientId:c,familyMembersList:l,deseaseImagesList:k,deseaseHistoryDynamicsList:h}),j(z)),S&&b({patientVisitsList:S,patientId:c}),T&&v({analyzesMediaList:T,patientId:c}),T&&(V=(0,r.Z)((0,r.Z)({},f.getFieldsValue()),{},{patientId:c,treatmentDynamics:C,recipeList:I}),g(V))),console.log("patientForm",s.getFieldsValue()),console.log("personInfoForm",n.getFieldsValue()),console.log("diseaseHistoryForm",t.getFieldsValue()),console.log("dataSourceDiseaseHistoryTable",h),console.log("familyMembersList",l),console.log("savedDrawingCanvas",k),console.log("descriptionsCanvas",w),console.log("dataSourceVisitTable",S),console.log("dataSourceAnalysisTable",T),console.log("treatmentHistoryForm",f.getFieldsValue()),console.log("dataSourceTreatmentTable",C),console.log("recipeList",I);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(c.Z.Item,{noStyle:!0,children:(0,y.jsxs)(u.Z,{children:[(0,y.jsx)(d.ZP,{onClick:F,form:"patientForm",type:"primary",htmlType:"submit",children:"Save"}),(0,y.jsx)(d.ZP,{danger:!0,children:"Clear"})]})})};function w(){var e=(0,p.b)().patientForm;return(0,y.jsx)(l.Z,{form:e,button:(0,y.jsx)(k,{}),readOnly:!0})}n.Z=(0,s.memo)(w)},378:function(e,n,t){var r=t(4087),a=t(7885),i=t(6070),s=t(2791),l=t(2414),o=t(184);function c(e){var n=e.items,t=e.isOpen,s=e.onOpenChange;return(0,o.jsx)(r.xu,{cursor:"pointer",children:(0,o.jsx)(i.Z,{trigger:["click"],menu:{items:n},open:t,onOpenChange:s,children:(0,o.jsx)(a.h,{variant:"ghost",color:"pink.500",size:"sm",isRound:!0,"aria-label":"Search database",icon:(0,o.jsx)(l.Z,{})})})})}n.Z=(0,s.memo)(c)},3416:function(e,n,t){function r(e){return JSON.parse(JSON.stringify(e))}t.d(n,{p:function(){return r}})},6838:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(9439),a=t(2791),i=t(4087),s=t(1413),l=t(2491),o=t(131),c=t(1326),u=t(1244),d=t(6877),p=t(184);function m(e){var n=e.handleDelete;return(0,p.jsx)(d.Z,{onClick:n})}var f=(0,a.memo)(m),y=t(3433),h=t(2014),x=t(3416),Z=t(378);function j(e){var n=e.columns,t=(0,a.useState)(!1),i=(0,r.Z)(t,2),s=i[0],l=i[1],o=(0,u.m)((function(e){return e.analysisTableSetting})),c=(0,u.m)((function(e){return e.setAnalysisTableSetting})),d=function(e){var n=e.target.id,t=e.target.checked,r=(0,x.p)(o);r.forEach((function(e){e.dataIndex===n&&(e.isVisible=t)})),c((0,y.Z)(r))};(0,a.useEffect)((function(){var e=n.map((function(e){return{key:e.key,dataIndex:e.dataIndex,isVisible:e.isVisible,title:e.title}}));c(e)}),[]);var m=(0,a.useMemo)((function(){return o?null===o||void 0===o?void 0:o.map((function(e){return{label:(0,p.jsx)(h.Z,{id:null===e||void 0===e?void 0:e.dataIndex,onChange:d,defaultChecked:null===e||void 0===e?void 0:e.isVisible,children:e.title})}})):[]}),[o]);return(0,p.jsx)(Z.Z,{items:m,isOpen:s,onOpenChange:function(e){l(e)}})}var b=(0,a.memo)(j);t(7892);function v(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,d=e.form,m=(0,l.a)("(min-width: 400px)"),y=(0,r.Z)(m,1)[0],h=(0,u.m)((function(e){return e.diseaseHistoryTableSetting})),x=(0,u.o)((function(e){return e.dataSourceAnalysisTable})),Z=(0,u.o)((function(e){return e.setDataSourceAnalysisTable})),j=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==h&&void 0!==h&&h.find((function(n){return n.dataIndex===e}))?h.find((function(n){return n.dataIndex===e})).isVisible:n},v=(0,a.useMemo)((function(){return[{title:"Breast Type",dataIndex:"analyzesType",key:"analyzesType",isVisible:j("analyzesType"),ellipsis:!0,width:!y&&150,render:function(e){return(0,p.jsx)(o.Z,{placement:"topLeft",title:e,children:e})}},{title:"Sub Type",dataIndex:"analyzesSubType",key:"analyzesSubType",isVisible:j("analyzesSubType"),ellipsis:!0,width:!y&&150,render:function(e){return(0,p.jsx)(o.Z,{placement:"topLeft",title:e,children:e})}},{title:"Description",dataIndex:"analyzesDesc",key:"analyzesDesc",isVisible:j("analyzesDesc"),ellipsis:!0,width:!y&&150,render:function(e){return(0,p.jsx)(o.Z,{placement:"topLeft",title:e,children:e})}},{title:"Date",dataIndex:"date",key:"date",isVisible:j("date"),ellipsis:!0,width:!y&&150,render:function(e){return(0,p.jsx)(o.Z,{placement:"topLeft",title:e,children:e})}},{title:"Image",dataIndex:"analyzesContentName",key:"analyzesContentName",isVisible:j("analyzesContentName"),ellipsis:!0,width:!y&&150,render:function(e){return(0,p.jsx)(o.Z,{placement:"topLeft",title:e,children:e})}},{title:"Delete",dataIndex:"delete",key:"delete",isVisible:j("delete"),ellipsis:!0,align:"center",render:function(e,n,t){return(0,p.jsx)(f,{handleDelete:function(){var e=x.filter((function(e){return e.id!==n.id}));Z(e)}})}}]}),[y,h,x]);return(0,p.jsxs)(i.xu,{display:"flex",flexDirection:"column",children:[(0,p.jsx)(i.xu,{alignSelf:"flex-end",children:(0,p.jsx)(b,{columns:v})}),(0,p.jsx)(c.Z,{size:"small",bordered:!0,scroll:{x:window.innerHeight},pagination:!1,columns:v.filter((function(e){return!0===e.isVisible})),dataSource:x,rowClassName:function(e,t){return n===t+1?"ant-table-row-selected":""},onRow:function(e,n){return{onClick:function(r){!function(e,n){var t=(0,s.Z)({},e);d.setFieldsValue(t)}(e),t(n+1)}}}})]})}var g=(0,a.memo)(v),k=t(1041),w=t(9389),S=t(9555),T=t(3099),C=t(7309),I=t(3722),F=t(4165),z=t(5861),V=t(2242),O=t(5518),N=t(1532),D=t(2351),P=t(4488),L=t(176),R=function(e){var n=e.form,t=e.selectedRowKey,s=(0,a.useState)(),l=(0,r.Z)(s,2),o=l[0],c=l[1],u=(0,a.useState)(),d=(0,r.Z)(u,2),m=d[0],f=d[1],y=function(e){if(e){var n=e.lastIndexOf(".");"pdf"===e.substring(n+1)?(c(null),f(e)):(f(null),c(e))}};(0,a.useEffect)((function(){if(t){var e=n.getFieldsValue().analyzesContentUrl;y(e)}else c(null),f(null)}),[t]);var h=function(){var e=(0,z.Z)((0,F.Z)().mark((function e(t){var r,a,i;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.next=4,(0,P.Z)("analysesImage",r,"post");case 4:return null!==(a=e.sent)&&void 0!==a&&a.data&&(i=a.data,y(i),n.setFieldsValue({analyzesContentName:t.name}),n.setFieldsValue({analyzesContentUrl:a.data})),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){try{c(null),f(null),n.setFieldsValue({analyzesContentName:"",analyzesContentUrl:""})}catch(e){console.log("%c error","background: red; color: dark",e)}};return(0,p.jsx)(p.Fragment,{children:o?(0,p.jsxs)(L.k,{gap:"1",m:"3",children:[(0,p.jsx)(V.Z,{width:200,src:o}),(0,p.jsx)(i.xu,{onClick:x,_hover:{color:"red"},ml:"-1",cursor:"pointer",children:(0,p.jsx)(N.Z,{})})]}):m?(0,p.jsxs)(L.k,{gap:"1",m:"3",children:[(0,p.jsx)("embed",{src:m,type:"application/pdf",width:"100%",height:"600px"}),(0,p.jsx)(i.xu,{onClick:x,_hover:{color:"red"},ml:"-1",cursor:"pointer",children:(0,p.jsx)(N.Z,{})})]}):(0,p.jsx)(O.Z,{accept:".png,.pdf,.jpeg,.jpg",listType:"picture",beforeUpload:h,children:o?"":(0,p.jsx)(C.ZP,{icon:(0,p.jsx)(D.Z,{}),children:"Upload"})})})},A=(0,a.memo)(R),B=["USM","Mammography","Tomosynthesis","MRT","KT","Biopsy","\u0421lips"],K=["Blood analysis","USM","X-ray","Bone osten","Bone naf","KT","Pet","Echocardiography","Electrocardiography","PET-CT","PET-MRI"];function M(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,r=e.form,a=(0,u.o)((function(e){return e.dataSourceAnalysisTable})),i=(0,u.o)((function(e){return e.setDataSourceAnalysisTable})),l=function(e){try{if(n){var l=a.map((function(n){return n.id===e.id?(0,s.Z)({},e):n}));i(l)}else{var o=(new Date).getTime();e.id=o,e.key=o,i([].concat((0,y.Z)(a),[e]))}r.resetFields(),t()}catch(c){console.log("%c error","background: red; color: dark",c)}};return(0,p.jsxs)(I.M,{columns:["1","2"],gap:"1",children:[(0,p.jsxs)(k.Z,{onFinish:l,id:"analysisTableFormBlok",form:r,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsx)(k.Z.Item,{hidden:!0,name:"id",children:(0,p.jsx)(w.Z,{})}),(0,p.jsx)(k.Z.Item,{label:"Analyzes type",name:"analyzesType",children:(0,p.jsxs)(S.Z,{allowClear:!0,defaultValue:"Breast",children:[(0,p.jsx)(S.Z.Option,{value:"Breast",children:"Breast"}),(0,p.jsx)(S.Z.Option,{value:"Other analysis",children:"Other analysis"}),(0,p.jsx)(S.Z.Option,{value:"Other healthcare area",children:"Other healthcare area"})]})}),(0,p.jsx)(k.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.analyzesType!==n.analyzesType},children:function(e){var n=e.getFieldValue,t=[];if("Breast"===n("analyzesType"))t=B;else if("Other analysis"===n("analyzesType"))t=K;else if("Other healthcare area"===n("analyzesType"))return"";return(0,p.jsx)(k.Z.Item,{label:"Analysis sub type",name:"analyzesSubType",children:(0,p.jsx)(S.Z,{allowClear:!0,children:t.map((function(e){return(0,p.jsx)(S.Z.Option,{value:e,children:e},e)}))})})}}),(0,p.jsx)(k.Z.Item,{label:"Description",name:"analyzesDesc",children:(0,p.jsx)(w.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})}),(0,p.jsx)(k.Z.Item,{hidden:!0,name:"analyzesContentUrl",children:(0,p.jsx)(w.Z,{})}),(0,p.jsx)(k.Z.Item,{hidden:!0,name:"analyzesContentName",children:(0,p.jsx)(w.Z,{})})]}),(0,p.jsxs)(k.Z,{onFinish:l,id:"analysisTableFormBlok",form:r,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,p.jsx)(k.Z.Item,{hidden:!0,name:"analyzesContentName",children:(0,p.jsx)(w.Z,{})}),(0,p.jsx)(k.Z.Item,{hidden:!0,name:"analyzesContentUrl",children:(0,p.jsx)(w.Z,{})}),(0,p.jsx)(k.Z.Item,{children:(0,p.jsxs)(T.Z,{children:[(0,p.jsx)(C.ZP,{form:"analysisTableFormBlok",htmlType:"submit",type:"primary",children:n?"Edit":"Add"}),(0,p.jsx)(C.ZP,{onClick:function(){r.resetFields(),t()},danger:!0,children:n?"Close":"Clear"})]})}),(0,p.jsx)(k.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.analyzesSubType!==n.analyzesSubType},children:function(e){return(0,e.getFieldValue)("analyzesSubType")?(0,p.jsx)(A,{form:r,selectedRowKey:n}):""}})]})]})}var U=(0,a.memo)(M),H=t(667);function E(){var e=(0,a.useState)(),n=(0,r.Z)(e,2),t=n[0],s=n[1],l=k.Z.useForm(),o=(0,r.Z)(l,1)[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(H.Z,{}),(0,p.jsxs)(i.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:[(0,p.jsx)(i.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",bg:t?"blue.50":"",children:(0,p.jsx)(U,{selectedRowKey:t,setSelectedRowKey:s,form:o})}),(0,p.jsx)(i.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",children:(0,p.jsx)(g,{selectedRowKey:t,setSelectedRowKey:s,form:o})})]})]})}var _=(0,a.memo)(E)}}]);
//# sourceMappingURL=838.3039cc53.chunk.js.map