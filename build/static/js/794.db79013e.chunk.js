"use strict";(self.webpackChunkMedAir3=self.webpackChunkMedAir3||[]).push([[794],{6877:function(e,n,t){var r=t(3655),i=t(5820),a=t(2791),s=t(2622),o=t(4087),l=t(184);function u(e){var n=e.onClick;return(0,l.jsx)(r.Z.Link,{children:(0,l.jsx)(o.xu,{color:"red",onClick:function(e){return e.stopPropagation()},children:(0,l.jsx)(i.Z,{title:"Are you sure you want to delete this item?",okText:"Yes",cancelText:"No",onConfirm:n,children:(0,l.jsx)(s.Z,{})})})})}n.Z=(0,a.memo)(u)},667:function(e,n,t){var r=t(9439),i=t(2791),a=t(1041),s=t(3099),o=t(9389),l=t(2706),u=t(7309),c=t(3052),d=t(9420),h=t(1830),m=t(2491),f=t(4087),p=t(175),x=t(1886),Z=t(2486),j=t(1244),v=t(184);function b(){var e=(0,c.b)(),n=e.patientForm,t=e.inPatientCollapse,i=e.setInPatientCollapse,b=(0,m.a)("(min-width: 600px)"),g=(0,r.Z)(b,1)[0],y=(0,x.Z)().resetProfilePatient,I=(0,Z.Z)(),w=I.handleSave,k=I.isLoading,C=(0,j.o)((function(e){return e.onFieldsChange}));return(0,v.jsx)(f.xu,{boxShadow:"xl",p:"2",bg:"pink.100",borderRadius:"15px",children:(0,v.jsxs)(a.Z,{id:"patientForm",onFinish:w,form:n,layout:g?"inline":"vertical",onFieldsChange:C,children:[(0,v.jsx)(a.Z.Item,{label:"Name",children:(0,v.jsxs)(s.Z.Compact,{children:[(0,v.jsx)(a.Z.Item,{noStyle:!0,name:"patientName",children:(0,v.jsx)(o.Z,{placeholder:"Name"})},"patientName"),(0,v.jsx)(a.Z.Item,{name:"patientId",noStyle:!0,children:(0,v.jsx)(l.Z,{readOnly:!0,addonBefore:"\u2116",placeholder:"Patient \u2116"})}),(0,v.jsx)(u.ZP,{type:"ghost",onClick:function(){return i((function(e){return!e}))},icon:t?(0,v.jsx)(d.Z,{}):(0,v.jsx)(h.Z,{})})]})}),(0,v.jsx)(p.U,{in:t,animateOpacity:!0,children:(0,v.jsxs)(a.Z,{form:n,layout:g?"inline":"vertical",onFieldsChange:C,children:[(0,v.jsx)(a.Z.Item,{name:"patientSurName",label:"Suriname",children:(0,v.jsx)(o.Z,{placeholder:"Suriname"})},"patientSurName"),(0,v.jsx)(a.Z.Item,{label:"Patronymic",name:"patientPatronymic",children:(0,v.jsx)(o.Z,{})},"patientPatronymic")]})}),(0,v.jsx)(a.Z.Item,{noStyle:!0,children:(0,v.jsxs)(s.Z,{children:[(0,v.jsx)(u.ZP,{onClick:w,form:"patientForm",type:"primary",htmlType:"submit",loading:k,children:"Save"}),(0,v.jsx)(u.ZP,{onClick:function(){y()},danger:!0,children:"Clear"})]})})]})})}n.Z=(0,i.memo)(b)},378:function(e,n,t){var r=t(4087),i=t(7885),a=t(6070),s=t(2791),o=t(2414),l=t(184);function u(e){var n=e.items,t=e.isOpen,s=e.onOpenChange;return(0,l.jsx)(r.xu,{cursor:"pointer",children:(0,l.jsx)(a.Z,{trigger:["click"],menu:{items:n},open:t,onOpenChange:s,children:(0,l.jsx)(i.h,{variant:"ghost",color:"pink.500",size:"sm",isRound:!0,"aria-label":"Search database",icon:(0,l.jsx)(o.Z,{})})})})}n.Z=(0,s.memo)(u)},9572:function(e,n,t){t.d(n,{$M:function(){return l},H9:function(){return h},M9:function(){return Z},Yo:function(){return c},bp:function(){return u},dK:function(){return x},jW:function(){return d},pP:function(){return j},si:function(){return m}});var r=t(4165),i=t(5861),a=t(7027),s=t(4488),o=function(e,n){e&&"string"!==typeof e?a.ZP.success({content:n+" saved",key:n+"_save",duration:2}):a.ZP.error({content:n+" don't saved",key:n+"_save",duration:2})},l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.Z)("patientid",{},"get");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),a.ZP.error({content:e.t0,key:"doc_save",duration:2});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("vite",n,"post");case 2:return t=e.sent,o(t,"Person Info"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("morby",n,"post");case 2:t=e.sent,o(t,"Disease History");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("visits",n,"post");case 2:t=e.sent,o(t,"Visit");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("analyses",n,"post");case 2:t=e.sent,o(t,"Analyses");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("treatment",n,"post");case 2:t=e.sent,o(t,"Treatment");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("visitsformcalendar",n,"post"));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("patients/".concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,o,c,d,h,m,x,Z,j,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.sendObj).patientId){e.next=7;break}s=t.patientId,p(s).then((function(e){null!==e&&void 0!==e&&e.data?i=t.patientId:a.ZP.warning({content:"The Patient not find",key:"info_message",duration:4})})),i=t.patientId,e.next=10;break;case 7:return e.next=9,l();case 9:i=e.sent;case 10:if(o=t.patientName,c=t.patientSurName,d=t.patientPatronymic,h=t.visitDate,m=t.phoneNumber,x=t.status,Z=t.visitReason,j={patientVisitsList:[{patientId:i,status:x,visitDate:h,visitReason:Z}]},v={patientId:i,patientName:o,patientSurName:c,patientPatronymic:d,phoneNumber:m},!i){e.next=20;break}if(t.patientId){e.next=17;break}return e.next=17,u(v);case 17:return e.next=19,f(j);case 19:e.sent;case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("managers/pathologists");case 2:if(null===(n=e.sent)||void 0===n||!n.data){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("managers/places");case 2:if(null===(n=e.sent)||void 0===n||!n.data){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},3416:function(e,n,t){function r(e){return JSON.parse(JSON.stringify(e))}t.d(n,{p:function(){return r}})},1886:function(e,n,t){var r=t(3052),i=t(1244);n.Z=function(){var e=(0,r.b)(),n=e.personInfoForm,t=e.diseaseHistoryForm,a=e.patientForm,s=e.setFamilyMembersList,o=e.treatmentHistoryForm,l=e.searchPatientForm,u=(0,i.o)((function(e){return e.setDataSourceDiseaseHistoryTable})),c=(0,i.o)((function(e){return e.setSavedDrawingCanvas})),d=(0,i.o)((function(e){return e.setDescriptionsCanvas})),h=(0,i.o)((function(e){return e.setDataSourceVisitTable})),m=(0,i.o)((function(e){return e.setDataSourceAnalysisTable})),f=(0,i.o)((function(e){return e.setDataSourceTreatmentTable})),p=(0,i.o)((function(e){return e.setRecipeList}));return{resetProfilePatient:function(){l.resetFields(),a.resetFields(),n.resetFields(),t.resetFields(),o.resetFields(),s([]),u([]),c({}),d({}),h([]),m([]),f([]),p([])}}}},2486:function(e,n,t){var r=t(4165),i=t(5861),a=t(1413),s=t(9439),o=t(7892),l=t.n(o),u=t(9572),c=t(3052),d=t(1244),h=t(2791);n.Z=function(){var e=(0,h.useState)(!1),n=(0,s.Z)(e,2),t=n[0],o=n[1],m=(0,c.b)(),f=m.patientForm,p=m.personInfoForm,x=m.diseaseHistoryForm,Z=m.familyMembersList,j=m.treatmentHistoryForm,v=(0,d.o)((function(e){return e.dataSourceDiseaseHistoryTable})),b=(0,d.o)((function(e){return e.savedDrawingCanvas})),g=(0,d.o)((function(e){return e.descriptionsCanvas})),y=(0,d.o)((function(e){return e.dataSourceVisitTable})),I=(0,d.o)((function(e){return e.dataSourceAnalysisTable})),w=(0,d.o)((function(e){return e.dataSourceTreatmentTable})),k=(0,d.o)((function(e){return e.recipeList})),C=function(e){var n=f.getFieldsValue(),t=n.patientName,r=n.patientSurName,i=n.patientPatronymic,s=p.getFieldsValue(),o=s.birthDate,c=s.alkogol,d=s.smoke,h=(0,a.Z)((0,a.Z)({},p.getFieldsValue()),{},{birthDate:l()(o).format("YYYY-MM-DD"),alkogol:c?1:0,smoke:d?1:0,patientName:t,patientSurName:r,patientPatronymic:i,patientId:e});(0,u.bp)(h)},S=function(e){b.deseaseImageDesc=JSON.stringify(g);var n=(0,a.Z)((0,a.Z)({},x.getFieldsValue()),{},{patientId:e,familyMembersList:Z,deseaseImagesList:b,deseaseHistoryDynamicsList:v});(0,u.Yo)(n)},F=function(e){var n={patientVisitsList:y,patientId:e};(0,u.jW)(n)},P=function(e){var n={analyzesMediaList:I,patientId:e};(0,u.H9)(n)},R=function(e){var n=(0,a.Z)((0,a.Z)({},j.getFieldsValue()),{},{patientId:e,treatmentDynamics:w,recipeList:k});(0,u.si)(n)},D=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),setTimeout((function(){o(!1)}),1e3),!(n=f.getFieldsValue().patientId)){e.next=7;break}t=n,e.next=10;break;case 7:return e.next=9,(0,u.$M)();case 9:t=e.sent;case 10:t&&Promise.all([C(t),S(t),F(t),P(t),R(t)]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleSave:D,isLoading:t}}},4096:function(e,n,t){t.r(n),t.d(n,{default:function(){return je}});var r=t(9439),i=t(2791),a=t(3433),s=t(3722),o=t(1041),l=t(9389),u=t(9555),c=t(4960),d=t(3099),h=t(2706),m=t(7309),f=t(1244),p=t(1933),x=t(9572),Z=t(184);function j(){var e=(0,p.useQuery)(["managers/pathologists"],x.M9,{enabled:!1}),n=e.data,t=e.isLoading,r=e.refetch;return(0,Z.jsx)(u.Z,{allowClear:!0,lazyLoad:!0,loading:t,onFocus:r,children:null===n||void 0===n?void 0:n.map((function(e){return(0,Z.jsx)(u.Z.Option,{value:e.pathologistName,children:e.pathologistName},e.pathologistId)}))})}var v=(0,i.memo)(j);function b(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,r=e.form,i=(0,f.o)((function(e){return e.dataSourceDiseaseHistoryTable})),p=(0,f.o)((function(e){return e.setDataSourceDiseaseHistoryTable})),x=(0,f.o)((function(e){return e.setIsFieldsChange})),j=function(e){if(x(!0),n){var s=i.map((function(n){return n.id===e.id?e:n}));p(s)}else{var o=(new Date).getTime();e.id=o,e.key=o,p([].concat((0,a.Z)(i),[e]))}r.resetFields(),t()};return(0,Z.jsxs)(s.M,{columns:["1","2"],children:[(0,Z.jsxs)(o.Z,{onFinish:j,id:"diseaseHistoryFormBloke",form:r,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,Z.jsx)(o.Z.Item,{hidden:!0,name:"id",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(o.Z.Item,{label:"Breast",name:"complaintBreastType",children:(0,Z.jsxs)(u.Z,{allowClear:!0,children:[(0,Z.jsx)(u.Z.Option,{value:"no",children:"Missing"}),(0,Z.jsx)(u.Z.Option,{value:"right",children:"Right"}),(0,Z.jsx)(u.Z.Option,{value:"left",children:"Left"}),(0,Z.jsx)(u.Z.Option,{value:"both",children:"Both"}),(0,Z.jsx)(u.Z.Option,{value:"postmastektR",children:"Post mastectomy right"}),(0,Z.jsx)(u.Z.Option,{value:"postmastektL",children:"Post mastectomy left"}),(0,Z.jsx)(u.Z.Option,{value:"axilaR",children:"Axilla right"}),(0,Z.jsx)(u.Z.Option,{value:"axilaL",children:"Axilla left"}),(0,Z.jsx)(u.Z.Option,{value:"anotherBrestR",children:"Extra breast right"}),(0,Z.jsx)(u.Z.Option,{value:"anotherBrestL",children:"Extra breast left"}),(0,Z.jsx)(u.Z.Option,{value:"anotherBrestBoth",children:"Both extra breasts"})]})}),(0,Z.jsx)(o.Z.Item,{label:"Duration of illness",name:"durationOfIllness",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(o.Z.Item,{label:"Complaints",name:"complaintDescription",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})})]}),(0,Z.jsxs)(o.Z,{onFinish:j,id:"diseaseHistoryFormBloke",form:r,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,Z.jsxs)(o.Z.Item,{label:"ER",children:[(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"ihkEr",children:(0,Z.jsx)(c.ZP.Group,{children:(0,Z.jsxs)(d.Z,{direction:"vertical",children:[(0,Z.jsx)(c.ZP,{value:1,children:"Positive"}),(0,Z.jsx)(c.ZP,{value:2,children:"Negative"})]})})}),(0,Z.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.ihkEr!==n.ihkEr},children:function(e){return 1===(0,e.getFieldValue)("ihkEr")?(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"erN",children:(0,Z.jsx)(h.Z,{})}):""}})]}),(0,Z.jsxs)(o.Z.Item,{label:"PR",children:[(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"ihkPr",children:(0,Z.jsx)(c.ZP.Group,{children:(0,Z.jsxs)(d.Z,{direction:"vertical",children:[(0,Z.jsx)(c.ZP,{value:1,children:"Positive"}),(0,Z.jsx)(c.ZP,{value:2,children:"Negative"})]})})}),(0,Z.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.ihkPr!==n.ihkPr},children:function(e){return 1===(0,e.getFieldValue)("ihkPr")?(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"prN",children:(0,Z.jsx)(h.Z,{})}):""}})]}),(0,Z.jsxs)(o.Z.Item,{label:"HER2",children:[(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"her2",children:(0,Z.jsx)(h.Z,{min:0,max:3,defaultValue:0})}),(0,Z.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.her2!==n.her2},children:function(e){var n;return 2===(0,e.getFieldValue)("her2")?(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"her2FT",children:(0,Z.jsx)(h.Z,{addonBefore:"FT"})}):(null===(n=r.setFieldValue)||void 0===n||n.call(r,{her2FT:""}),"")}})]}),(0,Z.jsx)(o.Z.Item,{label:"K67",name:"k67",children:(0,Z.jsx)(h.Z,{min:0,defaultValue:0})}),(0,Z.jsx)(o.Z.Item,{label:"Pathologist",name:"pathologist",children:(0,Z.jsx)(v,{})}),(0,Z.jsx)(o.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(m.ZP,{form:"diseaseHistoryFormBloke",htmlType:"submit",type:"primary",children:n?"Edit":"Add"}),(0,Z.jsx)(m.ZP,{onClick:function(){r.resetFields(),t()},danger:!0,children:n?"Close":"Clear"})]})})]})]})}var g=(0,i.memo)(b),y=t(667),I=t(8792),w=t(8348),k=t(4087),C=t(176),S=t(4464),F=t(7885),P=t(4942),R=["Mother","Father","Maternal grandmother","Paternal grandmother","Paternal grandfather","Maternal grandfather","Brother","Sister","Father's brother","Mother's brother","Father's sister","Mother's sister"],D=t(2964),O=t(9286),T=t(1820),M=t(3380),N=t(1078),L=t(7693),V=t(1461),A=t(4805),E=t(4653),H=t(3416);var B=function(e){var n=e.isOpen,t=e.onClose,r=e.initialRef,i=e.finalRef,a=e.title,s=e.handleEdit,u=e.isEdit,c=e.handleAdd,d=e.form,h=(0,f.o)((function(e){return e.setIsFieldsChange}));return(0,Z.jsxs)(T.u_,{isOpen:n,onClose:function(){d.resetFields(),t()},initialFocusRef:r,finalFocusRef:i,children:[(0,Z.jsx)(M.Z,{}),(0,Z.jsxs)(N.h,{children:[(0,Z.jsx)(L.x,{children:a}),(0,Z.jsx)(V.o,{}),(0,Z.jsx)(A.f,{children:(0,Z.jsxs)(o.Z,{form:d,labelWrap:!0,labelAlign:"left",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},children:[(0,Z.jsx)(o.Z.Item,{hidden:!0,name:"Id",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(o.Z.Item,{hidden:!0,name:"familyMember",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(o.Z.Item,{label:"Trauma",name:"familyMemberInjury",children:(0,Z.jsx)(l.Z,{ref:r,allowClear:!0})}),(0,Z.jsx)(o.Z.Item,{label:"Deceased of cancer",name:"familyMemberDied",children:(0,Z.jsx)(l.Z,{allowClear:!0})}),(0,Z.jsx)(o.Z.Item,{label:"Living with cancer",name:"familyMemberCurrentCancer",children:(0,Z.jsx)(l.Z,{allowClear:!0})}),(0,Z.jsx)(o.Z.Item,{label:"Description",name:"familyMemberDesc",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})})]})}),(0,Z.jsx)(E.m,{children:(0,Z.jsx)(m.ZP,{type:"primary",block:!0,icon:(0,Z.jsx)(O.Z,{}),onClick:function(){h(!0);try{var e=d.getFieldsValue(),n=(0,H.p)(e);u?s(n):c(n),d.resetFields()}catch(t){console.log("%c error","background: red; color: dark",t)}},children:u?"Edit":"Add"})})]})]})},W=t(3052),K=["Brother","Sister","Father's-brother","Mother's-brother","Father's-sister","Mother's-sister"];function Y(){var e=(0,w.q)(),n=e.isOpen,t=e.onOpen,s=e.onClose,l=(0,W.b)(),c=l.familyMembersList,h=l.setFamilyMembersList,f=i.useRef(null),p=i.useRef(null),x=(0,i.useState)(),j=(0,r.Z)(x,2),v=j[0],b=j[1],g=(0,i.useState)({}),y=(0,r.Z)(g,2),I=y[0],k=y[1],C=(0,i.useState)(!1),S=(0,r.Z)(C,2),F=S[0],T=S[1],M=o.Z.useForm(),N=(0,r.Z)(M,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z.Item,{labelAlign:"left",label:"Family members",children:(0,Z.jsxs)(d.Z.Compact,{style:{width:"100%"},children:[(0,Z.jsx)(u.Z,{onChange:function(e){T(!1),b(e)},allowClear:!0,ref:p,children:R.map((function(e){return(0,Z.jsx)(u.Z.Option,{value:e,children:e},e)}))}),(0,Z.jsx)(m.ZP,{disabled:!v,onClick:function(){if(v)if(c.find((function(e){return e.familyMember===v})))if(K.includes(v)){var e=v,n=I[v]||2,r=e+"_"+n;n+=1,k((0,P.Z)({},v,n)),b(r),t()}else T(!0);else b(v),t()},children:(0,Z.jsx)(O.Z,{})})]})}),F&&(0,Z.jsx)(D.Z,{closable:!0,afterClose:function(){T(!1)},message:"Selected family member already added",type:"info"}),(0,Z.jsx)(B,{isOpen:n,onClose:s,initialRef:f,finalRef:p,title:v,handleAdd:function(e){e.familyMember=v;var n=(new Date).getTime();e.Id=n,h((function(n){return[].concat((0,a.Z)(n),[e])})),s()},form:N})]})}var z=(0,i.memo)(Y);function J(){var e=(0,W.b)(),n=e.familyMembersList,t=e.setFamilyMembersList,s=(0,i.useState)(),l=(0,r.Z)(s,2),u=l[0],c=l[1],d=o.Z.useForm(),h=(0,r.Z)(d,1)[0],m=(0,w.q)(),f=m.isOpen,p=m.onOpen,x=m.onClose,j=i.useRef(null),v=i.useRef(null);return(0,Z.jsxs)(o.Z.Item,{noStyle:!0,children:[(0,Z.jsx)(I.ZP,{size:"small",header:(0,Z.jsx)(z,{}),bordered:!0,dataSource:n,renderItem:function(e,r){return(0,Z.jsx)(k.xu,{onClick:function(){return function(e){h.setFieldsValue(e),c(e),p()}(e)},_hover:{bg:"pink.200"},cursor:"pointer",children:(0,Z.jsx)(I.ZP.Item,{children:(0,Z.jsxs)(C.k,{w:"100%",children:[(0,Z.jsxs)(k.xu,{children:[r+1,". ",e.familyMember]}),(0,Z.jsx)(S.L,{}),(0,Z.jsx)(F.h,{isRound:!0,variant:"ghost",fontWeight:"bold",size:"xs",children:(0,Z.jsx)(k.xu,{onClick:function(r){return function(e,r){e.preventDefault(),e.stopPropagation();var i=n.filter((function(e){return e.Id!==r.Id}));t((0,a.Z)(i))}(r,e)},color:"pink.500",children:"X"})})]})})},e.Id)}}),(0,Z.jsx)(B,{isOpen:f,onClose:x,initialRef:j,finalRef:v,title:null===u||void 0===u?void 0:u.familyMember,isEdit:!0,handleEdit:function(e){var r=n.map((function(n){return n.Id===e.Id?e:n}));x(),t((0,a.Z)(r))},form:h})]})}var _=(0,i.memo)(J);function q(){var e=(0,W.b)().diseaseHistoryForm,n=(0,f.o)((function(e){return e.onFieldsChange}));return(0,Z.jsxs)(s.M,{columns:["1","2"],gap:"1",children:[(0,Z.jsxs)(o.Z,{form:e,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFieldsChange:n,children:[(0,Z.jsx)(o.Z.Item,{label:"Allergies",name:"allergyAvailability",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})}),(0,Z.jsx)(o.Z.Item,{label:"Receved treatement",name:"medicationTaken",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,rows:3})}),(0,Z.jsx)(o.Z.Item,{label:"Initial diagnosis",name:"preliminaryDiagnosis",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,allowClear:!0,rows:3})}),(0,Z.jsx)(o.Z.Item,{label:"Received traumas",name:"receivedTraumas",children:(0,Z.jsxs)(c.ZP.Group,{children:[(0,Z.jsx)(c.ZP,{value:1,children:"Yes"}),(0,Z.jsx)(c.ZP,{value:2,children:"No"})]})}),(0,Z.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.receivedTraumas!==n.receivedTraumas},children:function(e){return 1===(0,e.getFieldValue)("receivedTraumas")?(0,Z.jsx)(o.Z.Item,{label:"Description",name:"ownInjuryReason",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3})}):""}}),(0,Z.jsx)(o.Z.Item,{label:"Malignant",name:"maliqan",children:(0,Z.jsxs)(u.Z,{allowClear:!0,children:[(0,Z.jsx)(u.Z.Option,{value:"Right",children:"Right"}),(0,Z.jsx)(u.Z.Option,{value:"Left",children:"Left"})]})}),(0,Z.jsx)(o.Z.Item,{label:"Benign",name:"beniqen",children:(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)(u.Z.Option,{value:"Right",children:"Right"}),(0,Z.jsx)(u.Z.Option,{value:"Left",children:"Left"})]})}),(0,Z.jsx)(o.Z.Item,{label:"Malignant?",name:"maliqanQuestion",children:(0,Z.jsxs)(u.Z,{allowClear:!0,children:[(0,Z.jsx)(u.Z.Option,{value:"Right",children:"Right"}),(0,Z.jsx)(u.Z.Option,{value:"Left",children:"Left"})]})})]}),(0,Z.jsx)(o.Z,{form:e,labelWrap:!0,labelAlign:"right",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFieldsChange:n,children:(0,Z.jsx)(_,{})})]})}var U=(0,i.memo)(q),G=t(8594),Q=t(568),X=t(4386);function $(e){var n=e.image,t=e.imageName,a=(0,i.useRef)(null),s=o.Z.useForm(),c=(0,r.Z)(s,1)[0],h=(0,f.o)((function(e){return e.savedDrawingCanvas})),p=(0,f.o)((function(e){return e.setSavedDrawingCanvas})),x=(0,i.useState)({}),j=(0,r.Z)(x,2),v=j[0],b=j[1];(0,i.useEffect)((function(){if(h[t+"Desc"]){var e=h[t+"Desc"];b(JSON.parse(e))}}),[]);var g=(0,i.useState)("green"),y=(0,r.Z)(g,2),I=y[0],w=y[1],C=(0,i.useState)(!0),S=(0,r.Z)(C,2),F=S[0],P=S[1],R=(0,i.useState)(20),D=(0,r.Z)(R,2),O=D[0],T=D[1],M=(0,i.useState)(!0),N=(0,r.Z)(M,2),L=N[0],V=N[1],A=(0,i.useState)(),E=(0,r.Z)(A,2),H=E[0],B=E[1],W=(0,i.useState)(),K=(0,r.Z)(W,2),Y=K[0],z=K[1];(0,i.useEffect)((function(){var e=J(),n=I+e;Object.hasOwn(v,n)?c.setFieldsValue({description:v[n]}):c.setFieldsValue({description:""})}),[I]);var J=function(){var e,n=0,t=a.current.getSaveData();return null!==(e=t=t?JSON.parse(t):"")&&void 0!==e&&e.lines[0]&&t.lines.forEach((function(e){e.brushColor===I&&(n+=1)})),n||1},_=(0,f.o)((function(e){return e.onFieldsChange}));return(0,i.useEffect)((function(){var e=setTimeout((function(){return function(){var e=h&&h[t+"Data"]?h[t+"Data"]:"";e&&(a.current.loadSaveData(e),setTimeout((function(){return V(!0)}),100))}()}),1e3);return function(){return clearTimeout(e)}}),[a]),(0,Z.jsxs)(k.xu,{bg:"pink.100",p:"1",borderRadius:"10px",children:[(0,Z.jsxs)(o.Z,{form:c,labelAlign:"left",style:{width:"100%"},children:[(0,Z.jsxs)(d.Z.Compact,{width:"100%",style:{width:"100%",alignItems:"center"},children:[(0,Z.jsx)(o.Z.Item,{style:{width:"100%"},children:(0,Z.jsx)(o.Z.Item,{noStyle:!0,name:"colorCanvas",children:(0,Z.jsxs)(u.Z,{onSelect:function(e){return w(e)},defaultValue:"green",suffixIcon:(0,Z.jsx)(k.Cd,{mr:"4",size:"20px",bg:I}),style:{width:"100%"},children:[(0,Z.jsx)(u.Z.Option,{value:"green",children:"Benign tumor"}),(0,Z.jsx)(u.Z.Option,{value:"red",children:"Maligan tumor"}),(0,Z.jsx)(u.Z.Option,{value:"black",children:"Maligan ?"}),(0,Z.jsx)(u.Z.Option,{value:"blue",children:"My operation"}),(0,Z.jsx)(u.Z.Option,{value:"#AA00FF",children:"Operated not by me"})]})})}),(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsx)(m.ZP,{onClick:function(){T(20),P(!1)},children:"Edit"})}),(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsx)(m.ZP,{disabled:L,type:"primary",onClick:function(){_(),T(0),V(!0),P(!0);var e=a.current.getSaveData();h[t+"Data"]=e,h[t+"Desc"]=JSON.stringify(v),p(h)},children:"Save"})}),(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsx)(m.ZP,{onClick:function(){a.current.undo()},children:"Clear"})})]}),(0,Z.jsx)(o.Z.Item,{label:"Description",name:"description",children:(0,Z.jsx)(l.Z.TextArea,{showCount:!0,maxLength:3e3,onChange:function(e){var n=J();v[I+n]=e.target.value,b(v)}})})]}),(0,Z.jsx)(k.xu,{w:"100%",h:"100%",position:"relative",paddingBottom:"100%",onMouseMove:function(e){B(e.nativeEvent.offsetX),z(e.nativeEvent.offsetY)},onClick:function(){if(F){var e=a.current.getSaveData(),n=JSON.parse(e);t=n.lines,r=H,i=Y,t.forEach((function(e,n){var a=!1;e.points.forEach((function(s){var o=Math.abs(r-Math.round(s.x))<15;if(!0===Math.abs(i-Math.round(s.y))<15&&!0===o&&!a){a=!0;var l=0,u=[];t.forEach((function(n,t){n.brushColor===e.brushColor&&(l+=1,u.push({num:l,index:t}))}));var d=u.find((function(e){return e.index===n})),h=v[e.brushColor+d.num];c.setFieldsValue({description:h}),w(e.brushColor)}}))}))}var t,r,i},children:(0,Z.jsx)(X.Z,{style:{position:"absolute",width:"100%",height:"100%"},imgSrc:n,className:"canvas-draw",brushColor:I,ref:a,onChange:function(){c.setFieldsValue({description:""}),V(!1)},disabled:F,brushRadius:O})})]})}var ee=(0,i.memo)($),ne=t.p+"static/media/man.c013c9ece0d53d52029a.png";function te(){return(0,Z.jsxs)(G.r,{templateRows:"repeat(2, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,borderRadius:"10px",children:[(0,Z.jsx)(Q.P,{borderRadius:"10px",rowSpan:2,colSpan:[5,5,5,3],children:(0,Z.jsx)(ee,{imageName:"deseaseImage1",image:ne})}),(0,Z.jsx)(Q.P,{borderRadius:"10px",colSpan:[5,5,5,2],children:(0,Z.jsx)(ee,{imageName:"deseaseImage2",image:ne})}),(0,Z.jsx)(Q.P,{borderRadius:"10px",colSpan:[5,5,5,2],children:(0,Z.jsx)(ee,{imageName:"deseaseImage3",image:ne})})]})}var re=(0,i.memo)(te),ie=t(1413),ae=t(2491),se=t(131),oe=t(1326),le=t(6877);function ue(e){var n=e.handleDelete;return(0,Z.jsx)(le.Z,{onClick:n})}var ce=(0,i.memo)(ue),de=t(2014),he=t(378);function me(e){var n=e.columns,t=(0,i.useState)(!1),s=(0,r.Z)(t,2),o=s[0],l=s[1],u=(0,f.m)((function(e){return e.diseaseHistoryTableSetting})),c=(0,f.m)((function(e){return e.setDiseaseHistoryTableSetting})),d=function(e){var n=e.target.id,t=e.target.checked,r=(0,H.p)(u);r.forEach((function(e){e.dataIndex===n&&(e.isVisible=t)})),c((0,a.Z)(r))};(0,i.useEffect)((function(){var e=n.map((function(e){return{key:e.key,dataIndex:e.dataIndex,isVisible:e.isVisible,title:e.title}}));c(e)}),[]);var h=(0,i.useMemo)((function(){return u?null===u||void 0===u?void 0:u.map((function(e){return{label:(0,Z.jsx)(de.Z,{id:null===e||void 0===e?void 0:e.dataIndex,onChange:d,defaultChecked:null===e||void 0===e?void 0:e.isVisible,children:e.title})}})):[]}),[u]);return(0,Z.jsx)(he.Z,{items:h,isOpen:o,onOpenChange:function(e){l(e)}})}var fe=(0,i.memo)(me);function pe(e){var n=e.selectedRowKey,t=e.setSelectedRowKey,a=e.form,s=(0,ae.a)("(min-width: 400px)"),o=(0,r.Z)(s,1)[0],l=(0,f.m)((function(e){return e.diseaseHistoryTableSetting})),u=(0,f.o)((function(e){return e.dataSourceDiseaseHistoryTable})),c=(0,f.o)((function(e){return e.setDataSourceDiseaseHistoryTable})),d=(0,f.o)((function(e){return e.setIsFieldsChange})),h=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==l&&void 0!==l&&l.find((function(n){return n.dataIndex===e}))?l.find((function(n){return n.dataIndex===e})).isVisible:n},m=(0,i.useMemo)((function(){return[{title:"Breast",dataIndex:"complaintBreastType",key:"complaintBreastType",isVisible:h("complaintBreastType"),ellipsis:!0,width:!o&&150,render:function(e){return(0,Z.jsx)(se.Z,{placement:"topLeft",title:e,children:e})}},{title:"Duration of illness",dataIndex:"durationOfIllness",key:"durationOfIllness",isVisible:h("durationOfIllness"),ellipsis:!0,width:!o&&150,render:function(e){return(0,Z.jsx)(se.Z,{placement:"topLeft",title:e,children:e})}},{title:"Complaints",dataIndex:"complaintDescription",key:"complaintDescription",isVisible:h("complaintDescription"),ellipsis:!0,width:!o&&150,render:function(e){return(0,Z.jsx)(se.Z,{placement:"topLeft",title:e,children:e})}},{title:"ER",dataIndex:"erN",key:"erN",isVisible:h("erN"),ellipsis:!0,width:!o&&150,render:function(e){return e?(0,Z.jsxs)(C.k,{justifyContent:"space-between",pr:"2",children:[(0,Z.jsx)(k.xu,{children:"Positive"}),(0,Z.jsx)(k.xu,{ml:"2",color:"blue.400",fontWeight:"semibold",children:e})]}):"Negative"}},{title:"PR",dataIndex:"prN",key:"prN",isVisible:h("prN"),ellipsis:!0,width:!o&&150,render:function(e){return e?(0,Z.jsxs)(C.k,{justifyContent:"space-between",pr:"2",children:[(0,Z.jsx)(k.xu,{children:"Positive"}),(0,Z.jsx)(k.xu,{ml:"2",color:"blue.400",fontWeight:"semibold",children:e})]}):"Negative"}},{title:"HER2",dataIndex:"her2",key:"her2",isVisible:h("her2"),ellipsis:!0,width:!o&&150,render:function(e,n){return 2===+e?(0,Z.jsxs)(C.k,{justifyContent:"space-between",pr:"2",children:[(0,Z.jsx)(k.xu,{children:e}),(0,Z.jsxs)(C.k,{children:[(0,Z.jsx)(k.xu,{children:"FT:"}),(0,Z.jsx)(k.xu,{ml:"2",color:"blue.400",fontWeight:"semibold",children:n.her2FT})]})]}):(0,Z.jsx)(se.Z,{placement:"topLeft",title:e,children:e})}},{title:"K67",dataIndex:"k67",key:"k67",isVisible:h("k67"),ellipsis:!0,width:!o&&150,render:function(e){return(0,Z.jsx)(se.Z,{placement:"topLeft",title:e,children:e})}},{title:"Delete",dataIndex:"delete",width:50,key:"delete",isVisible:h("delete"),ellipsis:!0,align:"center",render:function(e,n,t){return(0,Z.jsx)(ce,{handleDelete:function(){d(!0);var e=u.filter((function(e){return e.id!==n.id}));c(e)}})}}]}),[o,l,u]);return(0,Z.jsxs)(k.xu,{display:"flex",flexDirection:"column",children:[(0,Z.jsx)(k.xu,{alignSelf:"flex-end",children:(0,Z.jsx)(fe,{columns:m})}),(0,Z.jsx)(oe.Z,{size:"small",bordered:!0,scroll:{x:window.innerHeight},pagination:!1,columns:m.filter((function(e){return!0===e.isVisible})),dataSource:u,rowClassName:function(e,t){return n===t+1?"ant-table-row-selected":""},onRow:function(e,n){return{onClick:function(r){!function(e,n){var t=e.erN,r=e.prN,i=(0,ie.Z)((0,ie.Z)({},e),{},{ihkEr:t?1:2,ihkPr:r?1:2});a.setFieldsValue(i)}(e),t(n+1)}}}})]})}var xe=(0,i.memo)(pe);function Ze(){var e=(0,i.useState)(),n=(0,r.Z)(e,2),t=n[0],a=n[1],s=o.Z.useForm(),l=(0,r.Z)(s,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y.Z,{}),(0,Z.jsxs)(k.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:[(0,Z.jsx)(k.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",bg:t?"blue.50":"",children:(0,Z.jsx)(g,{form:l,selectedRowKey:t,setSelectedRowKey:a})}),(0,Z.jsx)(k.xu,{p:"2",my:"2",border:"1px solid pink",borderRadius:"15px",children:(0,Z.jsx)(xe,{form:l,selectedRowKey:t,setSelectedRowKey:a})})]}),(0,Z.jsx)(k.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:(0,Z.jsx)(U,{})}),(0,Z.jsx)(k.xu,{p:"2",my:"2",boxShadow:"xl",bg:"pink.50",borderRadius:"15px",children:(0,Z.jsx)(re,{})})]})}var je=(0,i.memo)(Ze)}}]);
//# sourceMappingURL=794.db79013e.chunk.js.map